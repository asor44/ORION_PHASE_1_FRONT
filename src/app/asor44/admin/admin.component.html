<link rel="stylesheet" href="https://demos.creative-tim.com/notus-js/assets/styles/tailwind.css">
<link rel="stylesheet"
      href="https://demos.creative-tim.com/notus-js/assets/vendor/@fortawesome/fontawesome-free/css/all.min.css">
<app-header></app-header>

<div class="flex h-screen bg-gray-100">
  <!-- Sidebar -->
  <div class="w-64 bg-white shadow-md flex flex-col">
    <div class="p-4 border-b">
      <h2 class="text-xl font-semibold text-gray-700">Menu</h2>
    </div>
    <nav class="flex flex-col mt-4">
      <button
        (click)="setActiveTab('utilisateurs')"
        class="flex items-center px-4 py-2 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition"
        [class.bg-blue-100]="activeTab === 'utilisateurs'"
        [class.text-blue-600]="activeTab === 'utilisateurs'">
        <i class="fas fa-users mr-3"></i>
        Utilisateurs
      </button>
      <button
        (click)="setActiveTab('gestion-contenu')"
        class="flex items-center px-4 py-2 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition"
        [class.bg-blue-100]="activeTab === 'gestion-contenu'"
        [class.text-blue-600]="activeTab === 'gestion-contenu'">
        <i class="fas fa-cogs mr-3"></i>
        Gestion du contenu
      </button>
      <button
        (click)="setActiveTab('articles')"
        class="flex items-center px-4 py-2 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition"
        [class.bg-blue-100]="activeTab === 'articles'"
        [class.text-blue-600]="activeTab === 'articles'">
        <i class="fas fa-newspaper mr-3"></i>
        Articles
      </button>
    </nav>
  </div>
  <div class="flex-1 bg-white flex">
    <div class="container mx-auto p-4">
      <div *ngIf="activeTab === 'utilisateurs'" id="utilisateurs">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Utilisateurs</h2>

        <!-- Barre de recherche -->
        <div class="mb-4">
          <input
            type="text"
            placeholder="Rechercher un utilisateur..."
            [(ngModel)]="searchTerm"
            class="w-full p-2 border border-gray-300 rounded shadow-sm focus:outline-none focus:ring focus:ring-blue-300"
          />
        </div>

        <!-- Tableau -->
        <div class="overflow-x-auto">
          <table class="min-w-full bg-white border border-gray-200 rounded shadow-sm">
            <thead class="bg-gray-100 border-b">
            <tr>
              <th class="text-left p-3 text-gray-600 font-semibold">Nom</th>
              <th class="text-left p-3 text-gray-600 font-semibold">Email</th>
              <th class="text-left p-3 text-gray-600 font-semibold">Rôle</th>
              <th class="p-3"></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let user of filteredUsers" class="hover:bg-gray-50">
              <td class="p-3 text-gray-800">{{ user.name }}</td>
              <td class="p-3 text-gray-800">{{ user.email }}</td>
              <td class="p-3 text-gray-800">{{ user.role }}</td>
              <td class="p-3 text-right">
                <button
                  (click)="openModal(user)"
                  class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">
                  Afficher
                </button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div *ngIf="activeTab === 'gestion-contenu'" id="gestion-contenu">
        <h2 class="text-2xl font-bold text-gray-800">Gestion du contenu</h2>
        <p class="mt-4 text-gray-600">Section pour la gestion des contenus.</p>
      </div>
      <div *ngIf="activeTab === 'articles'" id="articles">
        <h2 class="text-2xl font-bold text-gray-800">Articles</h2>
        <p class="mt-4 text-gray-600">Section pour gérer vos articles.</p>
      </div>
    </div>
  </div>
</div>

<div *ngIf="selectedUser" class="fixed inset-0 flex items-center justify-center">
  <div class="bg-white border border-gray-300 w-1/2 p-6 rounded-lg shadow-lg relative">
    <!-- Bouton de fermeture -->
    <button
      (click)="closeModal()"
      class="absolute top-3 right-3 text-gray-500 hover:text-gray-700">
      <i class="fas fa-times text-lg"></i>
    </button>

    <!-- Titre -->
    <h3 class="text-2xl font-bold text-gray-800 mb-6">Détails de l'utilisateur</h3>

    <!-- Onglets -->
    <div class="flex space-x-4 border-b pb-2 mb-6">
      <button
        (click)="setModalTab('informations')"
        class="px-4 py-2 text-gray-600 font-medium transition"
        [class.text-blue-600]="modalTab === 'informations'"
        [class.border-b-2]="modalTab === 'informations'"
        [class.border-blue-600]="modalTab === 'informations'">
        Informations
      </button>
      <button
        (click)="setModalTab('informations-reserve')"
        class="px-4 py-2 text-gray-600 font-medium transition"
        [class.text-blue-600]="modalTab === 'informations-reserve'"
        [class.border-b-2]="modalTab === 'informations-reserve'"
        [class.border-blue-600]="modalTab === 'informations-reserve'">
        Réservations
      </button>
      <button
        (click)="setModalTab('equipement')"
        class="px-4 py-2 text-gray-600 font-medium transition"
        [class.text-blue-600]="modalTab === 'equipement'"
        [class.border-b-2]="modalTab === 'equipement'"
        [class.border-blue-600]="modalTab === 'equipement'">
        Équipement
      </button>
      <button
        (click)="setModalTab('pointage')"
        class="px-4 py-2 text-gray-600 font-medium transition"
        [class.text-blue-600]="modalTab === 'pointage'"
        [class.border-b-2]="modalTab === 'pointage'"
        [class.border-blue-600]="modalTab === 'pointage'">
        Pointage
      </button>
    </div>

    <!-- Contenu de la modale -->
    <div class="mt-4">
      <div *ngIf="modalTab === 'informations'">
        <p><strong>Nom :</strong> {{ selectedUser.name }}</p>
        <p><strong>Email :</strong> {{ selectedUser.email }}</p>
        <p><strong>Rôle :</strong> {{ selectedUser.role }}</p>
      </div>
      <div *ngIf="modalTab === 'informations-reserve'">
        <p>Aucune réservation actuellement.</p>
      </div>
      <div *ngIf="modalTab === 'equipement'">
        <p>Liste des équipements affectés :</p>
        <ul class="list-disc pl-5 text-gray-700">
          <li>Ordinateur portable</li>
          <li>Téléphone</li>
          <li>Casque audio</li>
        </ul>
      </div>
      <div *ngIf="modalTab === 'pointage'">
        <p>Dernier pointage : 21/11/2024 à 09:15</p>
      </div>
    </div>

    <!-- Bouton de fermeture -->
    <div class="mt-6 text-right">
      <button
        (click)="closeModal()"
        class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition">
        Fermer
      </button>
    </div>
  </div>
</div>



<app-footer-view></app-footer-view>
